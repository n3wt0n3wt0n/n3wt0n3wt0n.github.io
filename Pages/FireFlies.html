<canvas id="fireflies"></canvas>
<script>
const canvas = document.getElementById("fireflies");
const ctx = canvas.getContext("2d");
canvas.width = window.outerWidth;
canvas.height = window.innerHeight;

const fireflies = Array.from({length: 40}, () => ({
  x: Math.random() * canvas.width,
  y: Math.random() * canvas.height,
  r: Math.random() * 3 + 2,
  dx: (Math.random() - 0.5) * 0.5,
  dy: (Math.random() - 0.5) * 0.5,
  glow: Math.random()
}));

function draw() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  fireflies.forEach(f => {
    f.x += f.dx;
    f.y += f.dy;
    if (f.x < 0 || f.x > canvas.width) f.dx *= -1;
    if (f.y < 0 || f.y > canvas.height) f.dy *= -1;
    f.glow += (Math.random() - 0.5) * 0.05;
    ctx.beginPath();
    ctx.arc(f.x, f.y, f.r, 0, Math.PI*2);
    ctx.fillStyle = `rgba(255,255,200,${0.5 + Math.sin(f.glow*10)*0.5})`;
    ctx.shadowColor = "yellow";
    ctx.shadowBlur = 20;
    ctx.fill();
  });
  requestAnimationFrame(draw);
}
draw();

window.addEventListener("resize", () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script>

<style>
#fireflies {
  position: fixed;   /* stays behind everything */
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;       /* this pushes it behind all other site content */
  pointer-events: none; /* prevents blocking clicks */
  background: black;
}
</style>
